# Expected Findings: incremental-broken

## Problem Summary
A .NET project with custom MSBuild targets that break incremental build â€” they run on every build even when nothing has changed.

## Expected Findings

### 1. Custom Target Missing Inputs/Outputs
- **Issue**: The custom target(s) do not declare `Inputs` and `Outputs` attributes, so MSBuild cannot determine if they are up-to-date and runs them every time
- **Solution**: Add `Inputs` and `Outputs` attributes referencing the source files and generated outputs respectively

### 2. Generated Files Not Registered in FileWrites
- **Issue**: Files generated by custom targets are not added to the `FileWrites` item group, so `dotnet clean` won't remove them
- **Solution**: Add generated files to `<FileWrites Include="..." />` within the target

## Expected Fix Pattern
```xml
<Target Name="CustomTarget"
        Inputs="@(Compile)"
        Outputs="$(IntermediateOutputPath)generated-file.txt"
        BeforeTargets="Build">
  <!-- generation logic -->
  <ItemGroup>
    <FileWrites Include="$(IntermediateOutputPath)generated-file.txt" />
  </ItemGroup>
</Target>
```

## Key Concepts That Should Be Mentioned
- MSBuild Inputs/Outputs for incremental builds
- Timestamp-based up-to-date checking
- FileWrites item group for clean support
- Building twice to verify incrementality (second build should skip the target)

## Evaluation Checklist
Award 1 point for each item correctly identified and addressed:

- [ ] Identified custom target is missing Inputs attribute
- [ ] Identified custom target is missing Outputs attribute
- [ ] Explained that without Inputs/Outputs, MSBuild runs target every time
- [ ] Explained timestamp-based up-to-date checking mechanism
- [ ] Suggested adding Inputs="@(Compile)" or appropriate input files
- [ ] Suggested adding Outputs referencing the generated file path
- [ ] Identified generated files not registered in FileWrites
- [ ] Explained that FileWrites is needed for dotnet clean support
- [ ] Provided correct XML fix with Inputs, Outputs, and FileWrites
- [ ] Mentioned building twice to verify incrementality

Total: __/10

## Expected Skills
- incremental-build
